#!/bin/sh
#
# Bed concieggs om at være på en bestemt led.  Brug: 'vær MÅDE' eller 'vær mod
# BRUGER MÅDE' eller 'vær på KANAL MÅDE'.  Der er mange MÅDER.

if [ ! "$1" ]; then
    echo "Du mangler en væremåde."
    exit
fi

if [ "$1" = mod ] || [ "$1" = "på" ]; then
    file=outfilter_command_$2
    shift 2
else
    file=outfilter_command
fi

save() {
    echo "$1" | dbWrite $file
    echo "$(ack)  Væremåden er sat!"
}

case "$*" in
    # Gå tilbage til normal kedsomhed.
    normal)
        save '';;

    # Specielle ord.
    "ultra grinern")
        save 'filter grinern';;
    1337)
        save 'filter leet';;

    # Sprog el.lign.
    *)
        s='translate da'
        while [ "$1" != '' ]; do
            lc=$(langcode "$1")
            if [ "$lc" != '' ]; then
                s="$s $lc"
            else
                echo "$1 er ikke et sprog!"
                exit
            fi
            shift
        done
        save "$s"
esac
