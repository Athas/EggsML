#!/bin/sh
#
# Spørg hvor mange ...

factor=`randomLine <<EOF
millioner
tusinde
milliarder
tusindedele
hundrededele
EOF`

eval "$(echo "$@" | parse '^ *((?<gammel>(gammelt?|ungt?|lang tid|længe))|(?<lang>(langt?|kort|højt?|lavt?))|(?<tung>(tungt?|let))|(?<klog>(dumt?|klogt?|stupid))|(?<stor>(stort?|lille|meget))|(?<irriterende>(irriterende|udmattende|enerverende|trættende))|(?<grim>(grimt?|ulækkert?|monstrøst?|klamt?))).*')"

if [ "$gammel" ]; then
    unit=$(randomLine <<EOF
år
dage
sekunder
livstider
uger
måneder
EOF
)
elif [ "$lang" ]; then
    unit=$(randomLine <<EOF
centimeter
millimeter
kilometer
meter
Planck-distancer
kussehår
skægstubbe
fod
lysår
EOF
)
elif [ "$tung" ]; then
       unit=$(randomLine <<EOF
kilo
gram
ton
skæppepund
din mor
EOF
)
elif [ "$klog" ]; then
       unit=$(randomLine <<EOF
gange så klog som Brainfuck
gange så dum som John Strand
gange så klogdum som Troels
EOF
)
elif [ "$stor" ]; then
       unit=$(randomLine <<EOF
kubikmeter
brændestakke
kubikfod
rummeter
iPads
din mor
EOF
)
elif [ "$irriterende" ]; then
       unit=$(randomLine <<EOF
gange så irriterende som kode der fejler
gange så udmattende som din mor
EOF
)
elif [ "$grim" ]; then
       unit=$(randomLine <<EOF
gange grimmere end dig selv
gange pænere end fingermaling
EOF
)
fi

if [ "$unit" ]; then
    echo "$EGGS_USER: $(random 2 1337) $factor $unit!"
else
    prep=`randomLine <<EOF
På
I
Over
Under
EOF
`
    place=`randomLine <<EOF
Danmark
Sverige
Norge
Tyskland
Finland
Island
Polen
Frankrig
Italien
Portugal
Spanien
Egypten
Rusland
Hviderusland
Ukraine
Litauen
Letland
Estland
Grønland
Færøerne
Bornholm
Skagen
EOF`
    echo "$EGGS_USER: $prep $place!"
fi
