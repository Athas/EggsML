#!/usr/bin/env rash
#
# Gæt emnet for en beskrivelse!

EGGS_USER=>python -c "import os; print(os.getenv('EGGS_USER'))"

linje=>headlines | randomLine
jz harlinje
>echo "${EGGS_USER}: Jeg har ikke lyst lige nu."
exit

:harlinje
ord=>python -c 'print(max("${linje}".split()).replace(":",""))'
quiz=>python -c 'print("${linje}".replace("${ord}", "<blank>"))'

>echo '${EGGS_USER}: Okay, hvad mangler der her: "${quiz}".'
ngaet=>echo "0"

:læsgæt

read gæt
EGGS_USER=>python -c "import os; print(os.getenv('EGGS_USER'))"

<${gæt}>grep -qiE '.+'
jz indhold
>echo '${EGGS_USER}: Hov, du glemte at gætte på noget!  Du skal sige hvilket ord der mangler her: "${quiz}".'
j læsgæt


:indhold
<"${gæt}">grep -qiE "${ord}"
jz korrektgæt

>wrongScoreInc ${EGGS_USER} "overskriften"
ngaet=>python -c "print(${gaet}+1)"
<"${ngaet}">grep -qiEv "5"
jz læsgæt

>echo 'I burde altså åbne en avis fra tid til anden! Den rigtige overskrift er "${linje}"!'
exit

:korrektgæt
>echo "${EGGS_USER}: Helt rigtigt!  Super duper!"
>correctScoreInc ${EGGS_USER} "overskriften"
