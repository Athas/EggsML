#!/bin/sh
#
# Translate from any Google Translate-supported language to another through a
# chain.

t() {
    filter="$(dirname "$0")/filters/$2"
    if test -x "$filter"; then
        "$filter"
    else
        gawk -f $HOME/bin/google-translate.awk "{$1=$2}" -
    fi
}

eval $(python - "$@" <<EOF
import sys
print ' | '.join("t '%s' '%s'" % t for t in zip(sys.argv[1:], sys.argv[2:]))
EOF
)
